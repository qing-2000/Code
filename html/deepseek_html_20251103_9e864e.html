<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML5表单示例</title>
    <style>
        * {
            background-color: pink;
        }

        #color {
            width: 100px;
            /* 增加宽度 */
            height: 40px;
            /* 增加高度 */
        }

        form {
            width: 600px;
            height: 100%;
            background-color: white;
            margin: 0 auto;
            box-shadow: 10px 10px 5px 0px rgba(0, 0, 0, 0.75);
            padding: 20px;
        }

        .h {
            text-align: center;
            color: blue;
            font-size: 24px;
        }

        input:focus,
        textarea:focus {
            box-shadow: 0 0 10px 3px rgba(0, 123, 255, 0.4);
            border-color: #007bff;
            outline: none;
            transition: all 0.3s ease;
        }

        fieldset {
            margin-bottom: 20px;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 8px;
        }

        legend {
            font-weight: bold;
            color: #333;
        }

        label {
            display: inline-block;
            width: 120px;
            margin-bottom: 10px;
        }

        input,
        textarea {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        textarea {
            width: 100%;
            height: 80px;
        }

        .submit-container {
            text-align: center;
            margin-top: 20px;
        }

        input[type="submit"] {
            background-color: #007bff;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        input[type="submit"]:hover {
            background-color: #0056b3;
        }

        /* 新增的验证状态样式 */
        .validation-section {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
        }

        .validation-title {
            text-align: center;
            color: #28a745;
            font-size: 20px;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .status-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 5px;
            background-color: white;
            border-left: 4px solid #6c757d;
        }

        .status-item.valid {
            border-left-color: #28a745;
            background-color: #d4edda;
        }

        .status-item.invalid {
            border-left-color: #dc3545;
            background-color: #f8d7da;
        }

        .status-icon {
            width: 24px;
            height: 24px;
            margin-right: 12px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            background-color: #6c757d;
        }

        .valid .status-icon {
            background-color: #28a745;
        }

        .invalid .status-icon {
            background-color: #dc3545;
        }

        .error-message {
            color: #dc3545;
            font-size: 12px;
            margin-top: -5px;
            margin-bottom: 10px;
            display: none;
        }

        input:invalid,
        textarea:invalid {
            border-color: #dc3545;
        }

        input:valid,
        textarea:valid {
            border-color: #28a745;
        }
    </style>
</head>

<body>
    <form>
        <h2 style="text-align: center;">HTML5表单示例</h2>

        <!-- 个人信息部分 -->
        <fieldset>
            <legend>个人信息</legend>
            <p class="h">个人信息</p>
            <label for="name">姓名:</label>
            <input list="namelist" id="name" placeholder="请输入您的姓名" required>
            <datalist id="namelist">
                <option value="C++">
                <option value="PHP">
                <option value="Golang">
                <option value="Python">
                <option value="Ruby">
            </datalist>
            <br>
            <label for="email">电子邮箱:</label>
            <input type="email" id="email" placeholder="example@domain.com" required>
            <br>
            <label for="phone">手机号码:</label>
            <input type="tel" id="phone" maxlength="11" placeholder="请输入您的手机号码" required>
            <br>
            <label for="website">个人网站:</label>
            <input type="url" id="website" placeholder="https://example.com">
        </fieldset>

        <!-- 账户信息部分 -->
        <fieldset>
            <legend>账户信息</legend>
            <p class="h">账户信息</p>
            <label for="username">用户名:</label>
            <input list="usernamelist" id="username" placeholder="3-15个字符" pattern="[A-Za-z0-9]{3,15}" required>
            <datalist id="usernamelist">
                <option value="C++">
                <option value="PHP">
                <option value="Golang">
                <option value="Python">
                <option value="Ruby">
            </datalist>
            <div class="error-message" id="usernameError">用户名必须为3-15个字符，只限英文字母和数字</div>
            <br>
            <label for="password">密码:</label>
            <input type="password" id="password" placeholder="请输入密码" pattern="[A-Za-z0-9]{6}" required>
            <div class="error-message" id="passwordError">密码必须为6位字母或数字</div>
            <br>
            <label for="confirm-password">确认密码:</label>
            <input type="password" id="confirm-password" placeholder="请再次输入密码" required>
            <div class="error-message" id="confirmPasswordError">两次输入的密码不一致</div>
        </fieldset>

        <!-- 其他信息部分 -->
        <fieldset>
            <legend>其他信息</legend>
            <p class="h">其他信息</p>
            <label for="birthdate">出生日期:</label>
            <input type="date" id="birthdate">
            <br>
            <label for="age">年龄:</label>
            <input type="number" id="age" min="0" max="100">
            <br>
            <label for="color">喜欢的颜色:</label>
            <input type="color" id="color">
            <br>
            <label for="satisfaction">满意度(0-100):</label>
            <input type="range" id="satisfaction" min="0" max="100" value="35">
            <br>
            <label>上传头像:</label>
            <input type="file" id="avatar">
            <br>
            <label for="bio">个人简介:</label>
            <textarea id="bio" placeholder="介绍一下你自己..." minlength="10" required></textarea>
            <div class="error-message" id="bioError">个人简介不能少于10个字符</div>
        </fieldset>

        <!-- 新增的输入验证状态部分 -->
        <div class="validation-section">
            <div class="validation-title">输入验证</div>

            <div class="status-item" id="usernameStatus">
                <div class="status-icon">!</div>
                <span>用户名验证 - 用户名必须为3-15个字符，只限英文字母和数字</span>
            </div>

            <div class="status-item" id="emailStatus">
                <div class="status-icon">!</div>
                <span>电子邮件验证 - 请输入有效的电子邮件地址</span>
            </div>

            <div class="status-item" id="phoneStatus">
                <div class="status-icon">!</div>
                <span>手机号码验证 - 请输入有效的11位手机号码</span>
            </div>

            <div class="status-item" id="passwordStatus">
                <div class="status-icon">!</div>
                <span>密码验证 - 密码必须为6位字母或数字</span>
            </div>

            <div class="status-item" id="bioStatus">
                <div class="status-icon">!</div>
                <span>个人简介验证 - 个人简介不能少于10个字符</span>
            </div>
        </div>

        <!-- 提交按钮 -->
        <div class="submit-container">
            <input type="submit" value="提交表单">
        </div>
    </form>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.querySelector('form');
            const inputs = form.querySelectorAll('input, textarea');

            // 更新验证状态显示
            function updateValidationStatus() {
                const statusElements = {
                    username: document.getElementById('usernameStatus'),
                    email: document.getElementById('emailStatus'),
                    phone: document.getElementById('phoneStatus'),
                    password: document.getElementById('passwordStatus'),
                    bio: document.getElementById('bioStatus')
                };

                Object.keys(statusElements).forEach(field => {
                    const input = document.getElementById(field);
                    const statusElement = statusElements[field];

                    if (input && input.value.length > 0) {
                        if (input.checkValidity()) {
                            statusElement.className = 'status-item valid';
                            statusElement.querySelector('.status-icon').textContent = '✓';
                        } else {
                            statusElement.className = 'status-item invalid';
                            statusElement.querySelector('.status-icon').textContent = '!';
                        }
                    }
                });

                // 特别处理确认密码
                const password = document.getElementById('password');
                const confirmPassword = document.getElementById('confirm-password');
                const confirmError = document.getElementById('confirmPasswordError');

                if (password.value && confirmPassword.value) {
                    if (password.value === confirmPassword.value) {
                        confirmError.style.display = 'none';
                    } else {
                        confirmError.style.display = 'block';
                    }
                }
            }

            // 实时验证输入
            inputs.forEach(input => {
                input.addEventListener('input', function () {
                    const errorElement = document.getElementById(this.id + 'Error');

                    if (errorElement) {
                        if (this.checkValidity()) {
                            errorElement.style.display = 'none';
                        } else {
                            errorElement.style.display = 'block';
                        }
                    }

                    updateValidationStatus();
                });

                input.addEventListener('blur', function () {
                    const errorElement = document.getElementById(this.id + 'Error');
                    if (errorElement && !this.checkValidity()) {
                        errorElement.style.display = 'block';
                    }
                });
            });

            // 表单提交处理
            form.addEventListener('submit', function (e) {
                e.preventDefault();

                let isValid = true;
                inputs.forEach(input => {
                    if (!input.checkValidity()) {
                        isValid = false;
                        const errorElement = document.getElementById(input.id + 'Error');
                        if (errorElement) {
                            errorElement.style.display = 'block';
                        }
                    }
                });

                // 检查确认密码
                const password = document.getElementById('password');
                const confirmPassword = document.getElementById('confirm-password');
                const confirmError = document.getElementById('confirmPasswordError');

                if (password.value !== confirmPassword.value) {
                    isValid = false;
                    confirmError.style.display = 'block';
                }

                if (isValid) {
                    alert('表单提交成功！');
                    // 这里可以添加实际提交表单的代码
                } else {
                    alert('请修正表单中的错误后再提交。');
                }
            });

            // 初始更新状态
            updateValidationStatus();
        });
    </script>
</body>

</html>